{
    "type": "function",
    "tenant": "public",
    "namespace": "Qwen",
    "name": "FLUX.2-klein-4B",
    "object": {
        "spec": {
            "image": "vllm/vllm-omni:v0.14.0",
            "commands": [
                "vllm",
                "serve",
                "black-forest-labs/FLUX.2-klein-4B",
                "--enforce-eager",
                "--trust-remote-code",
                "--gpu-memory-utilization",
                "0.99",
                "--tensor-parallel-size=2",
                "--omni"
            ],
            "resources": {
                "CPU": 12000,
                "Mem": 24000,
                "ReadyMem": 3000,
                "GPU": {
                    "Type": "Any",
                    "Count": 2,
                    "vRam": 14300
                }
            },
            "envs": [
                [
                    "LD_LIBRARY_PATH",
                    "/usr/local/lib/python3.12/dist-packages/nvidia/cuda_nvrtc/lib/:$LD_LIBRARY_PATH"
                ],
                [
                    "VLLM_CUDART_SO_PATH",
                    "/usr/local/cuda-12.1/targets/x86_64-linux/lib/libcudart.so.12"
                ]
            ],
            "mounts": [
                {
                    "hostpath": "/opt/inferx/cache",
                    "mountpath": "/root/.cache/huggingface"
                }
            ],
            "endpoint": {
                "port": 8000,
                "schema": "Http",
                "probe": "/health"
            },
            "sample_query": {
                "apiType": "text2img",
                "prompt": "A glass of water",
                "path": "v1/chat/completions",
                "body": {
                    "model": "aydin99/FLUX.2-klein-4B",
                    "messages": [
                        {
                            "role": "user",
                            "content": [
                                {
                                    "type": "text",
                                    "text": "A glass of water"
                                }
                            ]
                        }
                    ],
                    "extra_body": {
                        "num_inference_steps": 12,
                        "width": 320,
                        "height": 480
                    }
                }
            },
            "standby": {
                "gpu": "Blob",
                "pageable": "Blob",
                "pinned": "Blob"
            },
            "policy": {
                "Link": {
                    "objType": "funcpolicy",
                    "namespace": "system",
                    "name": "default_funcpolicy"
                }
            }
        }
    }
}