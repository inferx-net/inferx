{
    "type": "function",
    "tenant": "public",
    "namespace": "mistralai",
    "name": "Mixtral-8x7B-v0.1-8GPU",
    "object": {
        "spec": {
            "image": "vllm/vllm-openai:v0.9.0",
            "commands": [
                "--model",
                "mistralai/Mixtral-8x7B-v0.1",
                "--gpu-memory-utilization",
                "0.99",
                "--disable-custom-all-reduce",
                "--max-model-len",
                "1200",
                "--tensor-parallel-size=8"
            ],
            "resources": {
                "CPU": 20000,
                "Mem": 80000,
                "GPU": {
                    "Type": "Any",
                    "Count": 8,
                    "vRam": 20000
                }
            },
            "envs": [
                [
                    "LD_LIBRARY_PATH",
                    "/usr/local/lib/python3.12/dist-packages/nvidia/cuda_nvrtc/lib/:$LD_LIBRARY_PATH"
                ],
                [
                    "VLLM_CUDART_SO_PATH",
                    "/usr/local/cuda-12.1/targets/x86_64-linux/lib/libcudart.so.12"
                ]
            ],
            "mounts": [
                {
                    "hostpath": "/opt/inferx/cache",
                    "mountpath": "/root/.cache/huggingface"
                }
            ],
            "endpoint": {
                "port": 8000,
                "schema": "Http",
                "probe": "/health"
            },
            "sample_query": {
                "apiType": "text2text",
                "prompt": "I like traveling by train because; and Can you provide ways to eat combinations of bananas and dragonfruits?",
                "prompts": [
                    "Write a Python function that computes Fibonacci numbers. Explain time complexity.",
                    "Translate the following Chinese text to English: ä»Šå¤©å¤©æ°”å¾ˆå¥½ã€‚",
                    "Explain general relativity in simple language.",
                    "Write a legal contract clause about liability and indemnification.",
                    "Summarize the plot of a fantasy novel involving dragons.",
                    "Solve this calculus integral: âˆ« x^3 log(x) dx",
                    "Generate a JSON schema describing a user profile.",
                    "Explain why emojis like ðŸ˜€ðŸ”¥ðŸš€ represent byte-level tokens."
                ],
                "path": "v1/completions",
                "body": {
                    "model": "mistralai/Mixtral-8x7B-v0.1",
                    "max_tokens": "1000",
                    "temperature": "0",
                    "stream": "true"
                }
            },
            "standby": {
                "gpu": "Mem",
                "pageable": "File",
                "pinned": "File"
            },
            "policy": {
                "Link": {
                    "objType": "funcpolicy",
                    "namespace": "system",
                    "name": "funcpolicy_8GPU"
                }
            }
        }
    }
}