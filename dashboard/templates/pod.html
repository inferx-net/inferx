{% extends 'base.html' %}

{% block content %}

<h2 style="text-align: center;">Funcpod</h2>

<style>
    table,
    th,
    td {
        border: 1px solid black;
    }
</style>
<table style="width:100%; text-align: center; border-collapse: collapse;">
    <tr>
        <th>Tenant</th>
        <th>Namespace</th>
        <th>Podname</th>
        <th>Model</th>
    </tr>
    <tr>
        <td>{{ tenant }}</td>
        <td>{{ namespace }}</td>
        <td>{{ podname }}</td>
        <td>
            {% if funcs %}
                {% for func in funcs %}
                    <a href="{{ hosturl }}func?tenant={{ func['func']['tenant'] }}&namespace={{ func['func']['namespace'] }}&name={{ func['func']['name'] }}">
                        {{ func['func']['name'] }}
                    </a>{% if not loop.last %}, {% endif %}
                {% endfor %}
            {% else %}
                N/A
            {% endif %}
        </td>
    </tr>
</table>

{% if audits %}
<h2 style="text-align: center;">State</h2>
<table style="width:100%; text-align: center; border-collapse: collapse;">
    <tr>
        <th>State</th>
        <th>Time</th>
    </tr>
    {% for audit in audits %}
    <tr>
        <td>{{ audit["state"] }}</td>
        <td>{{ audit["updatetime"] }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}
<h2 style="text-align: center;">Log</h2>
<table style="width:100%">
    <tr>
        {% autoescape false %}
        <td>{{ log }}</td>
        {% endautoescape %}
    </tr>
</table>

<!-- <h2>stats</h2>
<table style="width:100%">
    <tr>
        {% autoescape false %}
        <td>{{ audits[1] }}</td>
        {% endautoescape %}
    </tr>
</table> -->
{{ hosturl }}
{% endblock %}